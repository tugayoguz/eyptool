package tr.com.vortechs.bilisim.bys.eyp.tool.service.builder.impl;

import java.util.UUID;

import dpt.eYazisma.tipler.Paket;
import dpt.eYazisma.tipler.PaketModu;
import tr.com.vortechs.bilisim.bys.eyp.tool.domain.dto.EvrakDTO;
import tr.com.vortechs.bilisim.bys.eyp.tool.domain.dto.EvrakEkDTO;
import tr.com.vortechs.bilisim.bys.eyp.tool.service.builder.EypBuilder;
import urn.dpt.eyazisma.schema.xsd.tipler.CTIletisimBilgisi;
import urn.dpt.eyazisma.schema.xsd.tipler.CTKurumKurulus;
import urn.un.unece.uncefact.codelist.specification.unqualifieddatatypesschemaModule._2.NameType;
import urn.un.unece.uncefact.codelist.specification.unqualifieddatatypesschemaModule._2.TextType;

public class EypBuilderImpl implements EypBuilder{

	private Paket paket;
	private String path = "";
	
	public EypBuilderImpl() throws Exception{
		paket = Paket.ac(path + UUID.randomUUID(), PaketModu.Olustur);
	}
	
	@Override
	public EypBuilder addEvrak(EvrakDTO evrak) throws Exception {
		TextType konu = new TextType(); 
		konu.setValue(evrak.getKonuText());
		paket.getUstveri().konuBelirle(konu);
		paket.getUstveri().belgeNoBelirle(evrak.getEvrakSayi());
		return this;
	}

	@Override
	public EypBuilder addEk(EvrakEkDTO ek)  throws Exception {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public Paket buildInstance()  throws Exception {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public EypBuilder setEvrakOlusturan() throws Exception {
		CTKurumKurulus olusturan = new CTKurumKurulus();
		olusturan.setKKK("24314011"); // Bihter
		NameType adi = new NameType();
		adi.setValue("Toros Üniversitesi");
		olusturan.setAdi(adi);
		
		CTIletisimBilgisi ib = new CTIletisimBilgisi();
		ib.setUlke(new NameType());
		ib.getUlke().setValue("Türkiye");
		ib.setIl(new NameType());
		ib.getIl().setValue("Ankara");
		olusturan.setIletisimBilgisi(ib);
		
		return this;
	}

}
